syntax = "proto3";
package net;
option java_package = "net";
option java_outer_classname = "Ps";
option java_multiple_files = true;

service PS {
    rpc PushAFMatrix (MatrixMessage) returns (MatrixMessage){}

}



message RequestMetaMessage {
    string host = 1;
}

message PartitionMessage{
    string key=1;
    repeated int32 value=2;
}

message PartitionListMessage{
    repeated PartitionMessage Data=1;
}

message MatrixMessage{
    string key=1;
    int32 row=2;
    int32 cols=3;
    repeated float data=4;
}

message AFMatrixMessage{
    RequestMetaMessage meta=1;
    MatrixMessage AFMatrix=2;
}





